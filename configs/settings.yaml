# FE-Analyst Configuration
# ========================

app:
  name: FE-Analyst
  version: "0.2.0"
  log_level: INFO

# Data source priorities
data_sources:
  market_data:
    primary: yfinance
    fallback: [finnhub, alpaca]
  fundamentals:
    primary: simfin
    fallback: [finnhub, fmp]
  news:
    primary: finnhub
    fallback: []

# Cache settings
cache:
  enabled: true
  directory: data/cache
  ttl_hours:
    price_daily: 1
    price_historical: 24
    fundamentals: 168
    sec_filings: 720
    macro_data: 24
    news: 1

# ============================================================
# ANALYZER REGISTRY (Plugin System)
# To add a new analyzer:
#   1. Create src/analysis/your_module.py with BaseAnalyzer subclass
#   2. Add entry here
#   3. Done â€” auto-discovered, scored, and rendered
# ============================================================
analysis:
  registry:
    technical:
      module: src.analysis.technical
      class: TechnicalAnalyzerPlugin
      weight: 0.20
      enabled: true
    fundamental:
      module: src.analysis.fundamental
      class: FundamentalAnalyzerPlugin
      weight: 0.25
      enabled: true
    valuation:
      module: src.analysis.valuation
      class: ValuationAnalyzerPlugin
      weight: 0.20
      enabled: true
    risk:
      module: src.analysis.risk
      class: RiskAnalyzerPlugin
      weight: 0.15
      enabled: true
    sentiment:
      module: src.analysis.sentiment
      class: SentimentAnalyzerPlugin
      weight: 0.10
      enabled: true  # LLM-based; requires ANTHROPIC_API_KEY in .env
    moat:
      module: src.analysis.moat
      class: MoatAnalyzerPlugin
      weight: 0.10
      enabled: true

  # Per-analyzer settings
  technical:
    default_period: "1y"
    indicators: [sma, ema, rsi, macd, bbands, atr, obv]
  fundamental:
    min_years: 3
    peer_count: 5
  valuation:
    risk_free_rate: auto
    market_premium: 0.06
  sentiment:
    model: claude-sonnet-4-5-20250929
    sources: [news, reddit, analysts, insider_trades]
  risk:
    var_confidence: 0.95
    lookback_days: 252

# Report settings
reports:
  output_dir: reports/output
  template_dir: reports/templates
  default_format: markdown
